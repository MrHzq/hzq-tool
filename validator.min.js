module.exports={formatMoney(str=0){str=str+''let newStr=''let count=0 if(str.indexOf('.')===-1){for(let i=str.length-1;i>=0;i--){if(count%3===0&&count!==0){newStr=str.charAt(i)+','+newStr}else{newStr=str.charAt(i)+newStr}count++}str=newStr+'.00'return str}else{for(let i=str.indexOf('.')-1;i>=0;i--){if(count%3===0&&count!==0){newStr=str.charAt(i)+','+newStr}else{newStr=str.charAt(i)+newStr}count++}str=newStr+(str+'00').substr((str+'00').indexOf('.'),3)return str}},formatDate(date,fmt){if(!date){return null}if(typeof date==='string'){date=new Date(date.replace(/-/g,'/'))}if(typeof date==='number'){date=new Date(date)}if(fmt===undefined){return Number(date)}else{var o={'M+':date.getMonth()+1,'D+':date.getDate(),'h+':date.getHours()%12===0?12:date.getHours()%12,'H+':date.getHours(),'m+':date.getMinutes(),'s+':date.getSeconds(),'q+':Math.floor((date.getMonth()+3)/3),S:date.getMilliseconds()}var week={'0':'\u65e5','1':'\u4e00','2':'\u4e8c','3':'\u4e09','4':'\u56db','5':'\u4e94','6':'\u516d'}if(/(Y+)/.test(fmt)){fmt=fmt.replace(RegExp.$1,(date.getFullYear()+'').substr(4-RegExp.$1.length))}if(/(E+)/.test(fmt)){fmt=fmt.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?'\u661f\u671f':'\u5468':'')+week[date.getDay()+''])}for(var k in o){if(new RegExp('('+k+')').test(fmt)){fmt=fmt.replace(RegExp.$1,RegExp.$1.length===1?o[k]:('00'+o[k]).substr((''+o[k]).length))}}return fmt}},formatReq(obj){for(let i in obj){let item=obj[i]if(item===null)continue if(item===undefined||item===''||item==='undefined'||item.length<=0||JSON.stringify(item)==='{}'){obj[i]=null}}return obj},hideCardID(cardid){if(cardid){return cardid.replace(/^(.{6})(?:\d+)(.{4})$/,'$1****$2')}else{return''}},hidePhone(phone){return phone.replace(/(\d{3})\d{4}(\d{4})/,'$1****$2')},checkPhone(phone){let reg=/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/return reg.test(phone)},checkEmail(email){let reg=/^[a-z\d]+(\.[a-z\d]+)*@([\da-z](-[\da-z])?)+(\.{1,2}[a-z]+)+$/return reg.test(email)},checkVerifyCode(code){let reg=/^\d{6}$/return reg.test(code)},checkDynamicCode(code){let reg=/^[A-Za-z0-9]{4}$/return reg.test(code)},checkPassword(password){let reg=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/return reg.test(password)},checkName(name){let reg=/^[\u4E00-\u9FA5]{2,10}$/return reg.test(name)},checkUsername(name){let reg=/^[\u4e00-\u9fa50-9a-zA-Z]{4,16}$/return reg.test(name)},checkCommonField(name){let reg=/^[\u4e00-\u9fa50-9a-zA-Z]{4,30}$/return reg.test(name)},checkIDCard(idCard){if(idCard.length===18){let reg=/^\d{17}[\d|X|x]$/return reg.test(idCard)}else if(idCard.length===15){let reg=/^\d{15}$/return reg.test(idCard)}else{return false}},checkValEmpty(str){if(str===undefined||str===null||str.length<=0||str==='undefined'){return true}else{return false}},checkCommission(commission){let reg=/^100$|^(\d|[1-9]\d)(\.\d{1,4})*$/return reg.test(commission)},checkChannelNo(channelNo){let reg=/^[\w\d]{4,8}$/return reg.test(channelNo)},checkSpace(val){let reg=/^\s+$/if(reg.test(val)){return true}else{return false}},checkIntegerAndDot(checkVal){let dotReg=/\./g let IntegerReg=/^[1-9]{1}\d{0,5}$/if(checkVal.match(dotReg)&&checkVal.match(dotReg).length>1){return false}else if(checkVal.match(dotReg)&&checkVal.match(dotReg).length===1){let strLen=checkVal.length if(checkVal.indexOf('.')===0||checkVal.indexOf('.')===strLen-1){return false}else{return strLen<=6}}else if(!checkVal.match(dotReg)){return IntegerReg.test(checkVal)}},checkBankCard(iccid){let initCard=iccid let s1=0 let s2=0 iccid=iccid.substring(0,iccid.length-1)let reverse=''for(let i=iccid.length;i>0;i--){reverse+=iccid.charAt(i-1)}for(let i=0;i<reverse.length;i++){let digit=parseInt(reverse.charAt(i),10)if(i%2!==0){s1+=digit}else{s2+=2*digit if(digit>=5){s2-=9}}}let sum=10-((s1+s2)%10)if(sum===10){sum=0}return iccid+sum===initCard},parseQuery(query){let reg=/([^=&\s]+)[=\s]*([^&\s]*)/g let obj={}while(reg.exec(query)){obj[RegExp.$1]=RegExp.$2}return obj}}
